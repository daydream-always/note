简要讲解Java中的多态，并举例实际开发中几个常见的场景

### 一、Java 多态核心概念

多态是面向对象三大特性（封装、继承、多态）的最终体现，**指同一行为（方法调用）作用于不同对象时，表现出不同的实现逻辑**。其核心是 “父类引用指向子类对象”，结合方法重写实现运行时动态绑定。

#### 核心前提：

1. 存在继承 / 实现关系（子类继承父类，或类实现接口）；
2. 子类重写父类 / 接口的方法；
3. 父类 / 接口引用指向子类对象（`Parent p = new Child();`）。

#### 关键特性：

- **编译时类型**：引用变量的类型（父类 / 接口）；
- **运行时类型**：实际创建的对象类型（子类）；
- **动态绑定**：方法调用在运行时根据实际对象类型确定执行哪个版本的方法，而非编译时类型。



### 二、实际开发中常见场景

#### 场景 1：统一接口处理不同业务对象（如数据导出）

**场景描述**：系统需支持不同业务对象（用户、订单、商品）的 Excel 导出，定义统一的 “导出器” 接口，不同子类实现各自的导出逻辑，调用方通过接口引用调用，无需关注具体实现。

```Java
// 1. 定义导出接口（父类型）
public interface ExcelExporter {
    void export(List<?> data); // 统一导出方法
}

// 2. 子类1：用户数据导出
public class UserExcelExporter implements ExcelExporter {
    @Override
    public void export(List<?> data) {
        List<User> userList = (List<User>) data;
        System.out.println("导出用户数据：用户名、手机号、创建时间");
        // 具体Excel生成逻辑（如POI操作）
    }
}

// 3. 子类2：订单数据导出
public class OrderExcelExporter implements ExcelExporter {
    @Override
    public void export(List<?> data) {
        List<Order> orderList = (List<Order>) data;
        System.out.println("导出订单数据：订单号、金额、支付状态");
        // 具体Excel生成逻辑
    }
}

// 4. 调用方（多态核心：接口引用指向子类对象）
public class ExportService {
    // 根据业务类型获取对应导出器
    public ExcelExporter getExporter(String type) {
        if ("user".equals(type)) {
            return new UserExcelExporter(); // 父引用指向子类对象
        } else if ("order".equals(type)) {
            return new OrderExcelExporter();
        }
        throw new IllegalArgumentException("不支持的导出类型");
    }

    // 统一导出方法（无需区分具体类型）
    public void doExport(String type, List<?> data) {
        ExcelExporter exporter = getExporter(type);
        exporter.export(data); // 运行时动态调用子类的export方法
    }
}

// 测试调用
public static void main(String[] args) {
    ExportService service = new ExportService();
    // 导出用户数据
    service.doExport("user", Arrays.asList(new User(1L, "张三")));
    // 导出订单数据
    service.doExport("order", Arrays.asList(new Order(1001L, new BigDecimal("200"))));
}
```





























