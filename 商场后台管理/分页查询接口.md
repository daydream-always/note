

```Java
/**
 * 分页查询
 */
public PageInfo<Collect> selectPage(Collect collect, Integer pageNum, Integer pageSize) {
    
    Account currentUser = TokenUtils.getCurrentUser();
    
    if (RoleEnum.USER.name().equals(currentUser.getRole())) {
        
        collect.setUserId(currentUser.getId());
    }
    
    PageHelper.startPage(pageNum, pageSize);
    
    List<Collect> list = collectMapper.selectAll(collect);
    
    return PageInfo.of(list);
    
}
```

### **代码总结**

1. 分页查询
   - 使用 MyBatis 的 `PageHelper` 插件实现分页，
   - 通过 `startPage` 设置页码和页大小，
   - 返回 `PageInfo` 结构化分页数据。
2. 权限控制
   - 根据角色限制普通用户的查询范围：
     - 普通用户：只能查询自己的收藏记录
     - （通过 `collect.setUserId(currentUser.getId())` 强制设置用户 ID）。
     - 管理员用户：可以查询所有数据（默认行为）。
3. 灵活的查询条件
   - 通过 `collect` 对象传递查询条件
   - （如收藏内容类型、时间范围等），
   - 支持更复杂的筛选需求。