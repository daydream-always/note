# 第三章 基本图形生成算法2

2025年 12月 19日 星期五 22:16:09 CST

2025年 12月 19日 星期五 22:51:53 CST

2025年 12月 19日 星期五 22:58:98       18 CST

2025年 12月 19日 星期五 23:10:28 CST



### Y向连贯性算法（又称有序边表算法）

把每一条边的信息链入与该边最小的y坐标，即ymin，放入相应的桶中。

![image-20251219222455941](C:\Users\92503\AppData\Roaming\Typora\typora-user-images\image-20251219222455941.png)

活性边表的更新包含以下3点：**结点信息的更新**、**旧边的删除**、**新边的插入**

![image-20251219222116322](C:\Users\92503\AppData\Roaming\Typora\typora-user-images\image-20251219222116322.png)

基于上述矩形多边形，构建边表、活性边表（AET），并说明活性边表的更新过程（以 y=1 到 y=2 为例）。

解：

首先遍历多边形的所有边，将每条边按 **“最小 y 坐标（y_min）”** 分类，存入边表（ET 是一个数组，下标对应 y 值）。

每条边在 ET 中存储的信息是：

- `x`：边在`y_min`处的 x 坐标；（这条边最低点的x坐标）
- `△x`：相邻扫描线（y+1）时 x 的增量（△*x*=*y*2−*y*1/*x*2−*x*1，即边斜率的倒数）；
- `ymax`：边的最大 y 坐标（y_max）。（这条边最高点的y坐标）

扫描线扫描时，如何选取边

举个例子：

比如多边形的一条边 “P1P2”，其`y_min=1`、`ymax=3`，那么：

- 当扫描线`y=1`时，这条边从 ET 加入 AET；
- 当扫描线`y=3`时，这条边的`ymax=3`，会从 AET 中删除；

这能够确保获取到的边都在扫描线之上

### 种子填充算法

![image-20260105175237855](C:\Users\92503\AppData\Roaming\Typora\typora-user-images\image-20260105175237855.png)



## 多选

多边形有两种重要的表示方法：**顶点表示和点阵表示**

多边形的类型：**凸多边形、凹多边形以及含内环的多边形**等。

而检验一个点是否位于多边形区域内，有两种传统的方法，**一是转角法；二是射线法。**

根据**扫描线的连贯性和空间连贯性**两个特性将多边形扫描转换的算法分为两大类：**简单的种子填充算法和扫描线种子填充算法。**

Y向连贯性算法：

优点：采用增量计算的方法进行交点计算、仅仅在新边加入时排序、对每个像素只访问一次

缺点：数据结构复杂，表的维护，排序开销大、只适合软件实现

边缘填充算法：

优点：特别适合于有帧缓存的显示器、可按任意顺序处理多边形的边、仅访问与该边有交点的扫描线上交点右方的像素，算法简单

缺点：对复杂图形，有些像素被访问多次，输入/输出量大图形输出不能与扫描同步进行，只有全部画完才能打印

## 判断

一是转角法；二是射线法。这两种方法**都是逐点测试方法**

同一条扫描线上每个子段上的点具有连贯性，**相邻两条扫描线上点也具有一定的连贯性**

X-扫描线算法效率太低，为什么？**X-扫描线算法中的求交和排序运算**！而求交是很可怕的，求交的计算量是非常大的。

X-扫描线算法改进：1.对于某一条扫描线，需要与所有的边求交吗? 答:**只与有效边求交**、2、扫描线和直线在Y方向上都有连贯性，那么交点可以怎么求? 答:**计算交点时采用增量计算!**、3、每次都需要排序吗? 答:**有的边变成无效边时，需要删除；新边加入时，才重新排序。**



活性边(Active Edge)：指**与当前扫描线相交的多边形的边**，也称为有效边

在活性边表中应该存储活性边的哪些信息呢？最有用的信息莫过于**当前扫描线与活性边的交点x的坐标值。**

为了下一条扫描线与活性边求交方便？还需要存储从**当前扫描线与活性边的交点到下一条扫描线与活性边的交点的x坐标值的增量值△x。**△x是该活性边所在的直线斜率的倒数

下一条扫描线是否与活性边总有交点呢？当y > ymax时，将活性边从活性边表中删除，即可避免继续进行求交计算。

活性边表的更新包含以下3点：**结点信息的更新**、**旧边的删除**、**新边的插入**

Y向连贯性算法，也称为**活性边表的有序边表算法**

边缘填充算法**仅访问与该边有交点的扫描线上交点右方的像素**

8连通区域算法可以填充4连通区域，但是**4连通区域算法不能填充8连通区域**。



8连通边界算法可以填充4连通的边界表示区域吗？不能，会导致填充错误。

8连通泛填充算法可以填充4连通的内点表示区域吗？可以

## 单选

光栅图形的一个基本问题是把多边形的顶点表示转换为点阵表示，这种转换称为**多边形的扫描转换。**

**可以利用包围盒法**仅对包含多边形的最小矩形区域内的点进行检测

如何解决顶点交点的计数问题？**交点个数=构成这个顶点的两条边位于扫描线上方的条数**





























