## 配置二层交换机2960

Switch>  

// 用户模式提示符，可执行基础查看命令

##### Switch>enable<font color="red">（进入特权模式）</font>    

// 从用户模式进入特权模式（需要密码时需输入密码）

##### Switch#<font color="red">（特权模式）</font>    

// 特权模式提示符，可执行更多管理和配置命令

##### Switch#configure terminal<font color="red">（全局配置模式）</font>    

// 从特权模式进入全局配置模式

Enter configuration commands, one per line.  End with CNTL/Z.  

// 系统提示：每行输入一条配置命令，按Ctrl+Z结束

##### Switch(config)#vlan 2<font color="red">（全局配置模式下，创建vlan2）</font>  

// 在全局配置模式下创建VLAN 2

##### Switch(config-vlan)#vlan 3<font color="red">（vlan配置模式下继续创建vlan3）</font>  

// 在VLAN配置模式下继续创建VLAN 3（当前处于VLAN 2的配置模式，可直接创建新VLAN）

##### Switch(config-vlan)#exit<font color="red">（退出vlan配置模式到全局配置模式）</font>    

// 从VLAN配置模式退出到全局配置模式

##### Switch(config)#interface fastEthernet 0/2<font color="red">（进入快速接口配置模式）</font>  

// 进入快速以太网接口0/2的配置模式

##### Switch(config-if)#switchport access vlan 2<font color="red">（将接口配置为访问端口，并划分到vlan2）</font>    

// 将接口0/2配置为访问端口，并划分到VLAN 2

##### Switch(config-if)#exit<font color="red">（从接口配置模式退出到全局配置模式）</font>    

// 从接口0/2的配置模式退出到全局配置模式

##### Switch(config)#interface fastEthernet 0/3<font color="red">（进入快速接口配置模式）</font>      

// 进入快速以太网接口0/3的配置模式

##### Switch(config-if)#switchport access vlan 3<font color="red">（将接口配置为访问端口，并划分到vlan3）</font>      

// 将接口0/3配置为访问端口，并划分到VLAN 3

##### Switch(config-if)#exit<font color="red">（接口配置推出到全局配置）</font>      

// 从接口0/3的配置模式退出到全局配置模式

##### Switch(config)#interface fastEthernet 0/1<font color="red">（进入快速接口配置模式）</font>        

// 进入快速以太网接口0/1的配置模式

##### Switch(config-if)#switchport mode trunk<font color="red">（将接口0/1配置为中继端口，用于传递多个vlan的流量）</font>    

// 将接口0/1配置为中继端口（用于传递多个VLAN的流量）

Switch(config-if)#  

// 接口配置模式提示符（等待输入命令）

**%LINEPROTO-5-UPDOWN: Line protocol** on Interface FastEthernet0/1, changed state to down  // 系统日志：接口0/1的线路协议状态变为down

**%LINEPROTO-5-UPDOWN: Line protocol** on Interface FastEthernet0/1, changed state to up  // 系统日志：接口0/1的线路协议状态变为up

##### Switch(config-if)#end<font color="red">（接口配置模式直接返回特权模式）</font>   

// 从接口配置模式直接返回特权模式（等同于按Ctrl+Z）

Switch#  

// 特权模式提示符

%SYS-5-CONFIG_I: Configured from console by console  

// 系统日志：配置通过控制台完成

##### Switch#show vlan<font color="red">（查看vlan的配置信息）</font>    

// 查看VLAN的配置信息（包括VLAN编号、名称、所属接口等）



##### 一句话讲明白二层交换机有什么用，语言通俗易懂

二层交换机就是局域网里的 "快递分拣员"，只看设备的 "家庭住址"（MAC 地址），把数据快速送到同一局域网的目标设备，还能把不同部门的设备隔离开，避免互相干扰。

二层交换机就是**局域网里的快递分拣员**，只看设备的家庭地址（**mac地址**），把数据**快速送到同一局域网的目标设备**，还能**把不同部门的设备隔离开，避免相互干扰**

二层交换机就像公司的前台接线员，只负责把内部电话转接到对应的工位，还能把不同部门的电话线路分开，保证部门间互不打扰。

二层交换机就像公司的前台接线员，只负责**把内部电话转接到对应的工位**，**还能把不同部门的电话线路分开，保证部门间互不干扰。（分组转发）**

 

### **配置三层交换机356060：**

##### Switch>  

// 用户模式提示符，可执行基础查看命令

##### Switch>enable  

// 从用户模式进入特权模式（需密码时需输入密码）

##### Switch#  

// 特权模式提示符，可执行管理和配置命令

##### Switch#configure terminal  

// 从特权模式进入全局配置模式

Enter configuration commands, one per line.  End with CNTL/Z.  

// 系统提示：每行输入一条配置命令，按Ctrl+Z结束

##### Switch(config)#vlan 2  

// 创建VLAN 2

##### Switch(config-vlan)#vlan 3  

// 在VLAN配置模式下继续创建VLAN 3

##### Switch(config-vlan)#exit  

// 从VLAN配置模式退出到全局配置模式

##### Switch(config)#interface fastEthernet 0/1  

// 进入快速以太网接口0/1的配置模式

**Switch(config-if)#switchport trunk encapsulation dot1q<font color="red">（配置接口的中继封装协议为802.1q，vlan标准封装协议）</font>**     

// 配置接口0/1的中继封装协议为802.1Q（VLAN标准封装协议）

**Switch(config-if)#switchport mode trunk<font color="red">（将接口配置为中继接口，用于传输多个vlan的流量）</font>**      

// 将接口0/1配置为中继端口（用于传输多个VLAN的流量）

##### Switch(config-if)#exit  

// 从接口0/1配置模式退出到全局配置模式

##### Switch(config)#interface fastEthernet 0/2  

// 进入快速以太网接口0/2的配置模式

##### Switch(config-if)#switchport access vlan 2  

// 将接口0/2配置为访问端口，并划分到VLAN 2

##### Switch(config-if)#exit  

// 从接口0/2配置模式退出到全局配置模式

**Switch(config)#interface vlan 2<font color="red">（进入vlan2的svi（交换虚拟接口）配置模式（用于vlan间路由））</font>**       

// 进入VLAN 2的SVI（交换虚拟接口）配置模式（用于VLAN间路由）

##### Switch(config-if)#  

// 接口配置模式提示符（等待输入命令）

%LINK-5-CHANGED: Interface Vlan2, changed state to up**<font color="red">（vlan2接口状态变为up）</font>**       

// 系统日志：VLAN 2接口状态变为up

%LINEPROTO-5-UPDOWN: Line protocol on Interface Vlan2, changed state to up  **<font color="red">（vlan2接口的线路协议状态变为up）</font>**     

// 系统日志：VLAN 2接口的线路协议状态变为up

**Switch(config-if)#ip address 192.168.1.1 255.255.255.0<font color="red">（为vlan2的svi配置IP地址和子网掩码）</font>**       

// 为VLAN 2的SVI配置IP地址和子网掩码

**Switch(config-if)#no shutdown<font color="red">（启用vlan2的svi接口，默认可能关闭）</font>**       

// 启用VLAN 2的SVI接口（默认可能关闭）

##### Switch(config-if)#exit  

// 从VLAN 2的SVI配置模式退出到全局配置模式

**Switch(config)#interface vlan 3<font color="red">（进入vlan3的svi配置模式）</font>**       

// 进入VLAN 3的SVI配置模式

##### Switch(config-if)#  

// 接口配置模式提示符

%LINK-5-CHANGED: Interface Vlan3, changed state to up**<font color="red">（vlan3接口状态变为up）</font>**       

// 系统日志：VLAN 3接口状态变为up

%LINEPROTO-5-UPDOWN: Line protocol on Interface Vlan3, changed state to up  **<font color="red">（vlan3接口的线路协议状态变为up）</font>**     

// 系统日志：VLAN 3接口的线路协议状态变为up

**Switch(config-if)#ip address 192.168.2.1 255.255.255.0<font color="red">（为vlan3的svi配置IP地址和子网掩码）</font>**       

// 为VLAN 3的SVI配置IP地址和子网掩码

**Switch(config-if)#no shutdown<font color="red">（启用vlan3的svi接口）</font>**       

// 启用VLAN 3的SVI接口

##### Switch(config-if)#exit  

// 从VLAN 3的SVI配置模式退出到全局配置模式

**Switch(config)#ip routing<font color="red">（启用交换机的IP路由功能，实现vlan间的路由）</font>**       

// 启用交换机的IP路由功能（实现VLAN间路由）

##### Switch(config)#end  

// 从全局配置模式直接返回特权模式（等同于Ctrl+Z）

##### Switch#  

// 特权模式提示符

%SYS-5-CONFIG_I: Configured from console by console  

// 系统日志：配置通过控制台完成

**Switch#write<font color="red">（保存当前配置到启动配置文件，避免重启后丢失）</font>**       

// 保存当前配置到启动配置文件（NVRAM），避免重启后丢失

**Switch#show ip route<font color="red">（查看交换机的路由表，验证vlan间路由是否生效）</font>**       

// 查看交换机的路由表（验证VLAN间路由是否生效）



/**

一句话讲明白三层交换机有什么用，语言通俗易懂

三层交换机就是**既能像二层交换机一样快速转发同一网段的数据包，又能像路由器一样跨网段转发数据**的 “多面手”，兼顾速度和跨网能力。

三层交换机就是**既能像二层交换机一样快速转发同一网段的数据包，又能像路由器一样跨网段转发数据**的 “多面手”，兼顾速度和跨网能力。

三层交换机就是**既能像二层交换机一样快速转发同一网段的数据包，又能像路由器一样跨网段转发数据**的 “多面手”，兼顾速度和跨网能力。

*/

